{% extends 'main/base.html' %}

{% block head %}
{{ super() }}
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css')}}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css')}}">
<script src="{{ url_for('static', filename='js/bootstrap.min.js')}}"></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js'></script>
<script type='text/javascript' src='https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js'></script>
{% endblock %}

{% block content %}
<!-- Header Quotation Carousel-->
<header class="py-5">
    <div class="container py-5">
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <!--First page-->
                <div class="carousel-item active">
                    <div class="row gx-5 align-items-center mx-5 justify-content-center">
                        <div class="col-lg-8 col-xl-7 col-xxl-6">
                            <div class="my-5 text-center text-xl-start">
                                <p class="lead fw-bolder mb-4 text-center">All our knowledge begins with the senses, proceeds then to the understanding, and ends with reason. There is nothing higher than reason.</p>
                                <p class="lead fw-bolder mt-2 mb-4 text-center">philosopher name1</p>
                            </div>
                        </div>
                        <div class="col-xl-5 col-xxl-6 d-none d-xl-block text-center"><img class="img-fluid rounded-3 my-5" src="https://dummyimage.com/350x300/000/fff" alt="..." /></div>
                    </div>
                </div>
                <!--Seconde page-->
                <div class="carousel-item">
                    <div class="row gx-5 align-items-center mx-5 justify-content-center">
                        <div class="col-lg-8 col-xl-7 col-xxl-6">
                            <div class="my-5 text-center text-xl-start">
                                <p class="lead fw-bolder mb-4 text-center">All our knowledge begins with the senses, proceeds then to the understanding, and ends with reason. There is nothing higher than reason.</p>
                                <p class="lead fw-bolder mt-2 mb-4 text-center">philosopher name2</p>
                            </div>
                        </div>
                        <div class="col-xl-5 col-xxl-6 d-none d-xl-block text-center"><img class="img-fluid rounded-3 my-5" src="https://dummyimage.com/350x300/000/fff" alt="..." /></div>
                    </div>
                </div>
            </div>
            <!--Carousel button-->
            <button class="carousel-control-prev mr-3" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="false"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div> 
    </div>
</header>

<body oncontextmenu='return false' class='snippet-body'>
<!--carousel 1-->
<section class="pt-5 pb-5">
    <div class="container">
        <div class="row">
            <!--carousel title-->
            <div class="col-6 text-right">
                <h3 class="mb-3 mr-5">Maybe you'll like it... </h3>
            </div>
            <!--carousel button-->
            <div class="col-6 text-right">
                <div class="col-6 carousel-controller" style="float:right;">
                <a class="btn btn-outline-dark rounded-0 mb-3" style="float:right;" href="#carouselExampleIndicators2" role="button" data-slide="next">
                    <i class="bi bi-chevron-right"></i>
                </a>
                <a class="btn btn-outline-dark rounded-0 mb-3" style="float:right; margin-right:4px;" href="#carouselExampleIndicators2" role="button" data-slide="prev">
                    <i class="bi bi-chevron-left"></i>
                </a>
                </div>
            </div>
            <!--carousel content cards-->
            <div class="col-12">
                <div id="carouselExampleIndicators2" class="carousel slide" data-ride="carousel" data-interval="false">
                    <div class="carousel-inner">
                        <!--first slide-->
                        <div class="carousel-item active">
                            <div class="row"> 
                            {%for book in books[0:3]%}
                            <div class="col-md-4 mb-3">
                                <div class="card shadow bg-body">
                                    <a class="card-body bg-secondary text-center" href="{{ url_for('book.details', book_id=book['id'] )}}">
                                        <img class="img-fluid" src="{{book['image']}}" style="height:200px;" alt="book_cover">
                                    </a>
                                    <div class="card-body border border-dark">
                                        <h4 class="card-title text-center"><a href="{{ url_for('book.details', book_id=book['id'] )}}">『{{book['title']}}』, <br> {{book['authors']}}</a></h4>
                                        <div class="icon-block">
                                            <a class="recommend btn btn-outline-dark rounded-circle" style="float:right;" href="javascript:void(0)" data-uri="{{ url_for('book.vote', book_id=book['id']) }}"><i class="bi bi-heart-fill"></i>
                                                <span class="badge rounded-pill bg-success">{{ book.voter|length }}</span></a>                                            
                                            <a class="btn btn-outline-dark rounded-circle" style="float:right; margin-right:4px;" href="{{ url_for('book.addToBookshelves', book_id=book['id'] )}}"><i class="bi bi-plus-lg"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {%endfor%}
                            </div>
                        </div>
                        <!--seconde slide-->
                        {%for idx in range(3, books|length, 3)%}
                        <div class="carousel-item">
                        <div class="row">
                            {%for book in books[idx:idx+3]%} 
                            <div class="col-md-4 mb-3">
                                <div class="card shadow bg-body">
                                    <a class="card-body bg-secondary text-center" href="{{ url_for('book.details', book_id=book['id'] )}}">
                                        <img class="img-fluid" src="{{book['image']}}" style="height:200px;" alt="book_cover">
                                    </a>
                                    <div class="card-body border border-dark">
                                        <h4 class="card-title text-center"><a href="{{ url_for('book.details', book_id=book['id'] )}}">『{{book['title']}}』, <br> {{book['authors']}}</a></h4>
                                        <div class="icon-block">
                                            <a class="recommend btn btn-outline-dark rounded-circle" style="float:right;" href="javascript:void(0)" data-uri="{{ url_for('book.vote', book_id=book['id']) }}"><i class="bi bi-heart-fill"></i>
                                                <span class="badge rounded-pill bg-success">{{ book.voter|length }}</span></a>
                                            <a class="btn btn-outline-dark rounded-circle" style="float:right; margin-right:4px;" href="{{ url_for('book.addToBookshelves', book_id=book['id'] )}}"><i class="bi bi-plus-lg"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {%endfor%}
                        </div>
                        </div>
                        {%endfor%}
                        <!--third slide-->
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--carousel 2-->
<section class="pt-5 pb-5">
    <div class="container">
        <div class="row">
            <!--carousel title-->
            <div class="col-6 text-right">
                <h3 class="mb-3 mr-5">Related to friendship </h3>
            </div>
            <!--carousel button-->
            <div class="col-6 text-right">
                <div class="col-6 carousel-controller" style="float:right;">
                <a class="btn btn-outline-dark rounded-0 mb-3" style="float:right;" href="#carouselExampleIndicators2" role="button" data-slide="next">
                    <i class="bi bi-chevron-right"></i>
                </a>
                <a class="btn btn-outline-dark rounded-0 mb-3" style="float:right; margin-right:4px;" href="#carouselExampleIndicators2" role="button" data-slide="prev">
                    <i class="bi bi-chevron-left"></i>
                </a>
                </div>
            </div>
            <!--carousel content cards-->
            <div class="col-12">
                <div id="carouselExampleIndicators2" class="carousel carousel-dark slide" data-ride="carousel" data-interval="false">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <div class="card shadow bg-body">
                                        <div class="card-body bg-secondary text-center">
                                            <img class="img-fluid" src="static/images/harrypotter.jpg" style="height:200px;" alt="book_cover">
                                        </div>
                                        <div class="card-body border border-dark">
                                            <h4 class="card-title text-center">Book title, Author1</h4>
                                            <div class="icon-block">
                                                <a class="btn btn-outline-dark rounded-circle" style="float:right;" href="#"><i class="bi bi-heart-fill"></i></a>
                                                <a class="btn btn-outline-dark rounded-circle" style="float:right; margin-right:4px;" href="#"><i class="bi bi-plus-lg"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="card shadow bg-body">
                                        <div class="card-body bg-secondary text-center">
                                            <img class="img-fluid" src="static/images/harrypotter.jpg" style="height:200px;" alt="book_cover">
                                        </div>
                                        <div class="card-body border border-dark">
                                            <h4 class="card-title text-center">Book title, Author2</h4>
                                            <div class="icon-block">
                                                <a class="btn btn-outline-dark rounded-circle" style="float:right;" href="#"><i class="bi bi-heart-fill"></i></a>
                                                <a class="btn btn-outline-dark rounded-circle" style="float:right; margin-right:4px;" href="#"><i class="bi bi-plus-lg"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <div class="card shadow bg-body">
                                        <div class="card-body bg-secondary text-center">
                                            <img class="img-fluid" src="static/images/harrypotter.jpg" style="height:200px;" alt="book_cover">
                                        </div>
                                        <div class="card-body border border-dark">
                                            <h4 class="card-title text-center">Book title, Author3</h4>
                                            <div class="icon-block">
                                                <a class="btn btn-outline-dark rounded-circle" style="float:right;" href="#"><i class="bi bi-heart-fill"></i></a>
                                                <a class="btn btn-outline-dark rounded-circle" style="float:right; margin-right:4px;" href="#"><i class="bi bi-plus-lg"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% block script %}
<script type='text/javascript'>
const recommend_elements = document.getElementsByClassName("recommend");
Array.from(recommend_elements).forEach(function(element) {
    element.addEventListener('click', function() {
        if(confirm("정말로 추천하시겠습니까?")) {
            location.href = this.dataset.uri;
        };
    });
});
</script>
{% endblock %}
</body>
{% endblock %}


